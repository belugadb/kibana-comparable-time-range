<div ng-controller="aggParam.controller">
  <div class="vis-editor-agg-form-row">
    <div class="form-group">
      <label for="visEditorDateRangeComparing{{agg.id}}">Comparing</label>
      <select
        id="visEditorDateRangeComparing{{agg.id}}"
        name="comparing"
        ng-model="agg.params.range.comparing"
        required
        ng-options="offset as offset.display for offset in aggParam.comparingOffsets track by offset.display"
        class="form-control">
      </select>
    </div>
    <div class="form-group">
      <label for="visEditorDateRangeFormat{{agg.id}}">Format</label>
      <select
        id="visEditorDateRangeFormat{{agg.id}}"
        name="format"
        ng-model="agg.params.range.format"
        required
        ng-options="format as format for format in aggParam.comparingFormats"
        class="form-control">
      </select>
    </div>
  </div>
  <div class="vis-editor-agg-form-row" ng-show="agg.params.range.comparing.display === 'Custom'">
    <div class="form-group">
      <label id="visEditorDateRangeFrom{{agg.id}}">From</label>
      <input
        aria-labelledby="visEditorDateRangeFrom{{agg.id}}"
        ng-model="agg.params.range.custom.from"
        validate-date-math
        type="text"
        class="form-control"
        name="agg.params.range.custom.from"
        placeholder="yyyy/mm/dd" />
    </div>
    <div class="form-group">
      <label id="visEditorDateRangeTo{{agg.id}}">To</label>
      <input
        aria-labelledby="visEditorDateRangeTo{{agg.id}}"
        ng-model="agg.params.range.custom.to"
        validate-date-math
        class="form-control"
        name="agg.params.range.custom.to"
        placeholder="yyyy/mm/dd" />
    </div>
  </div>
</div>
